(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{103:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return d}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=i.a.createContext({}),p=function(e){var t=i.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=p(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),s=p(a),u=n,d=s["".concat(o,".").concat(u)]||s[u]||m[u]||r;return a?i.a.createElement(d,l(l({ref:t},c),{},{components:a})):i.a.createElement(d,l({ref:t},c))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=u;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},90:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return b})),a.d(t,"default",(function(){return p}));var n=a(3),i=a(7),r=(a(0),a(103)),o={id:"b1",title:"\u2699Installation",slug:"/installation"},l={unversionedId:"b1",id:"b1",isDocsHomePage:!1,title:"\u2699Installation",description:"Set Up Webhook",source:"@site/docs\\b1.md",slug:"/installation",permalink:"/docs/installation",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/b1.md",version:"current",sidebar:"someSidebar",previous:{title:"\ud83d\udd90Overview",permalink:"/docs/"},next:{title:"\ud83c\udf89Welcome Screen",permalink:"/docs/welcome-screen"}},b=[{value:"Set Up Webhook",id:"set-up-webhook",children:[]},{value:"Set Up FB App",id:"set-up-fb-app",children:[]},{value:"Webhook Integration with FB App",id:"webhook-integration-with-fb-app",children:[]}],c={rightToc:b};function p(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"set-up-webhook"},"Set Up Webhook"),Object(r.b)("p",null,"This time we will use the Glitch server. If you want to use your server, you can download the source code from this repository in the ",Object(r.b)("inlineCode",{parentName:"p"},"quickstart")," section ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/dimasna/Tutorial-HayWord-Messenger-Wit.ai-ReactJS/tree/main/Code"}),"Here"),"."),Object(r.b)("p",null,"to get the webhook url on Glitch :"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click Remix on Glitch below (to copy the initial code)"),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://glitch.com/edit/#!/quickstartchatbot"}),Object(r.b)("img",Object(n.a)({parentName:"a"},{src:"https://cdn.glitch.com/2703baf2-b643-4da7-ab91-7ee2a2d00b5b%2Fremix-button.svg",alt:"Remix on Glitch"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'Click the "Remix to Edit" button, don\'t forget to sign in to save the project in your glitch account.'),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"}," ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603074774/glitch_remix_mdnfyv.png",alt:"remix to edit",title:"remix to edit"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click 'Share' button > live app > copy."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},"  ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603134345/get_url_app_w17azv.png",alt:"copy app url",title:"copy url app"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"webhook url :\n",Object(r.b)("inlineCode",{parentName:"p"},"https://<COPIED_URL>/webhook")),Object(r.b)("blockquote",{parentName:"li"},Object(r.b)("p",{parentName:"blockquote"},"in this case, the webhook url is: ",Object(r.b)("inlineCode",{parentName:"p"},"https://hayword.glitch.me/webhook"))))),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"What is webhook? Why we need it?")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Webhook is a callback that uses to forward information between applications. We need it to receive information from the user that uses messenger, and then we manage that information in our app through webhook."))),Object(r.b)("h2",{id:"set-up-fb-app"},"Set Up FB App"),Object(r.b)("p",null,"After getting the webhook url, we will be connected to the Facebook application as follows:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Go to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://developers.facebook.com/apps/"}),"facebok developer app")," page. *make sure you logged in with a facebook account.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click 'Create App' button > select Manage Business Integration."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"}," ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603198175/create_app_gwu1ni.png",alt:"create app",title:"create app"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Fill in the application details > Click 'Create App ID'."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603198691/isi_form_z9iecr.png",alt:"fill in app details",title:"fill in app details"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"After successfully creating the App ID, the app dashboard page (HayWord) will appear. On the dashboard, click the Set Up button in the Messenger section."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"}," ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603199142/set_up_messenger_i8kdzf.png",alt:"setup messenger",title:"setup messenger"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click 'Create New Page' button to create a new page linked to our application."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"}," ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603214062/new_page_gfme2b.png",alt:"create new page",title:"create new page"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Fill in the information about the page created and click the 'create page' button."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603214544/detail_page_iosmuy.png",alt:"informasi page",title:"informasi page"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"After successfully creating the page, then return to the dashboard application and click the 'add or remove page' button."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603214928/add_remove_page_vbip8w.png",alt:"add or remove page",title:"add or remove page"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select the page that we created earlier, then click 'next'."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603215211/pilih_page_z1ivyu.png",alt:"select page",title:"select page"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Then click the 'done' button."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603215209/hak_akses_conversation_kjcbcb.png",alt:"done button",title:"done button"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"If successful, the page that we have linked with the application will appear."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"}," ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603216217/terhubung_halaman_ejb5ny.jpg",alt:"page appear",title:"page appear"})))))),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"We need to set up an fb app to determine which FB page we will use as front-end to interact with the user and connect our app with messenger API through webhook. "))),Object(r.b)("h2",{id:"webhook-integration-with-fb-app"},"Webhook Integration with FB App"),Object(r.b)("p",null," To integrating the webhook with the FB application, the steps are as follows:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click the 'Generate Page Access Token' button to authenticate the request to the messenger."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},"  ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603217293/generate_access_token_ehfnbf.png",alt:"page access token",title:"page access token"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Click 'I Understand' checkbox  > copy access token > done."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603217591/access_token_zhjj4l.png",alt:"access token",title:"access token"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Create a PAGE_ACCESS_TOKEN variable in the .env file in a glitch, then copy the token previously obtained to that variable."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603248148/variabel_token_lvw2r3.png",alt:"access token",title:"access token"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Next, create a VERIFY_TOKEN webhook variable and fill the variable with what you want in the .env file to verify the webhook in the fb application."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603248693/verify_token_zeepj3.png",alt:"verify token",title:"verify token"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Then add the webhook url in the application dashboard, click the 'Add Callback Url' button."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603250861/add_callback_url_fbi1hf.png",alt:"tambah url webhook",title:"tambah url webhook"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Fill in the webhook url and token that we have created before, then click the 'Verify and Save' button."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603251168/verify_webhook_zdq0h1.png",alt:"verify webhook",title:"verify webhook"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"After successfully verifying, click on the 'Add Subscriptions' button to subscribe the messenger service we will use."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"}," ",Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603260345/add_subs_pqey8q.png",alt:"add subs",title:"add subs"}))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select ",Object(r.b)("inlineCode",{parentName:"p"},"messages")," and",Object(r.b)("inlineCode",{parentName:"p"}," messaging_postbacks"),", then Click the 'Save' button."),Object(r.b)("details",null,Object(r.b)("summary",null,"Show Details"),Object(r.b)("p",{parentName:"li"},Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"https://res.cloudinary.com/dzrwauiut/image/upload/bo_4px_solid_grey/v1603260344/save_subscription_y2gqzi.png",alt:"save subs",title:"save subs"})))))),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"We need to integrate webhook with FB app to make messenger can communicate with our app. For example, messenger forward what the user says to our app."))))}p.isMDXComponent=!0}}]);